extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main 
    +alert-success("5000")
    h1(class= "mb-4") Access Control 
    if(roles)
        div(data-records= roles)

        div(class="text-end")
            button(
                type="submit"
                class="btn btn-primary mb-3"
                button-submit
            ) Cập nhật

        table(
            class="table table-hover table-sm"
            permission-table
        )
            thead
                tr
                    th Tính năng
                    each record in roles
                        th(class="text-center") #{record.title}
            tbody
                tr(data-name= "id" class="d-none")
                    td  
                    each record in roles 
                        td(class="text-center")
                            input(type="text" value= record.id)
                //- Product Categories
                tr 
                    td(colspan= "4")
                        b Product Category
                tr(data-name="products-category_view")
                    td View
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products-category_create")
                    td Create
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products-category_edit")
                    td Edit
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products-category_delete")
                    td Delete
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")

                //- Product
                tr 
                    td(colspan= "4")
                        b Product 
                tr(data-name="products_view")
                    td View
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products_create")
                    td Create
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products_edit")
                    td Edit
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="products_delete")
                    td Delete
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")

                //- Role
                tr 
                    td(colspan= "4")
                        b Role 
                tr(data-name="roles_view")
                    td View
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_create")
                    td Create
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_edit")
                    td Edit
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_delete")
                    td Delete
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                tr(data-name="roles_permissions")
                    td Access Control
                    each record in roles 
                        td(class="text-center")
                            input(type="checkbox")
                    
    
    
    form(
        id= "form-change-permissions"
        method= "POST"
        action = `${prefixAdmin}/roles/permissions?_method=PATCH`
        class= "d-none"
    )
        div(class= "form-group")
            input(
                type='text'
                class= "form-control"
                name= "permissions"
            )

    script(src= "/admin/js/role.js")

