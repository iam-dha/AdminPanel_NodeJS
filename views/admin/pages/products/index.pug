extends ../../layouts/default.pug 
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug

block main 
    h1 Product List

    .card.mb-3 
        .card-header Filter and Search
        .card-body 
            .row
                .col-6
                    +filter-status(filterStatus)
                .col-6
                    +search(keyword)
                    

    .card.mb-3 
        .card-header Product List
            table.table.table-hover.table-sm 
                thead 
                    tr
                        th No.
                        th Image
                        th Title
                        th Price
                        th Status 
                        th Action

                tbody 
                    each item, index in products   
                        tr
                            td #{index + 1}
                            td 
                                img(
                                    src=item.thumbnail
                                    alt= "San pham 1"
                                    wigth= "100px"
                                    height= "70px"
                                )
                            td #{item.title}
                            td #{item.price}$
                            if (item.availabilityStatus == "In Stock")
                                td 
                                    a( 
                                        href="javascript:;" 
                                        data-status= item.availabilityStatus
                                        data-id = item.id
                                        button-change-status
                                        class="badge bg-success"
                                    ) In Stock
                            else 
                                td 
                                    a(
                                        href="javascript:;" 
                                        data-status= item.availabilityStatus
                                        data-id = item.id
                                        button-change-status
                                        class="badge bg-danger"
                                    ) Low Stock
                            td
                                button(class="btn btn-warning btn-sm") Edit 
                                button(class="btn btn btn-danger btn-sm ms -1") Delete
        +pagination(pagination)
        form(
            action=""
            method="GET"
            id="form-change-status"
            data-path = `${prefixAdmin}/products/changeStatus`
            ) 
    script(src="/admin/js/product.js")